<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>添加文章</title>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.js"></script>
    <link rel='stylesheet' href='./NewArt.css'>
  </head>
  <body>
    <div class = "header">
      <img src="../images/51banner.jpg"/>
      <div class="nav"><ul>this is nav</ul></div>
  </div>
  <div class="container" id= "container" >
      <div class = "center col">
        <div class = "title"  id="title"> 
          <input type="text" placeholder="标题" v-model = "title">
        </div>
        <div class="toolBar" id="toolBar">
          <a title="添加图片" v-show="isActive" v-on:click="addImg">IMG</a>
          <a title="添加链接" v-show="isActive" v-on:click="addURL">URL</a>
        </div>
        <div class="textareaBox">
          <textarea1  
            v-for="item in inputList"
            v-bind:bbb = "item"
            @onfocus.native="text_focus" 
            @blur="text_blur"
            @click = "text_focus()"
          ></textarea1>
          <span class="imgSpan">
            <div class="imgright">
              <p class = "rightTitle">请输入图片说明</P>
              <a class = "closeImg" title="取消这个插入图片">  </a>
              <textarea class="rightContent" autoHeight="true" value="1">2</textarea>
            </div>
            <div class="imgleft"><img src="123.jpg" alt="点击上传图片"></div>
          </span>
        </div>
        <div class='textareaTail' id = "textareaTail">
          <button  id="comfirm">确认提交</button>
        </div>
      </div>
      <div class = "left col">this is left</div>
      <div class = "right col">this is right</div>
  </div>
  <div class = "footer">
      <p> 鄂ICP备19026213号-1</p>
      <p><a target="_blank" href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=42018502004261" >鄂公网安备 42018502004261号</a></p>
  </div>
  </body>
  <script>
    function textareaChange(ele){
      ele.scrollHeight = 0;
      ele.style.height = 0;
      ele.style.height = ele.scrollHeight + 'px';
    }


    Vue.component("textarea1",{
      props:['bbb'],
      template:'<span v-html ="bbb.construct_left + bbb.content + bbb.construct_right""></span>'
      // '<textarea autoHeight="true" class="testttt" v-if:bbb.control>{{bbb.name}}</textarea>'
    });

    Vue.component("imgbox",{
      template:'<img src="{{}}"></img>'
    })


    var app = new Vue({
      el:"#container",
      data:{
        isActive:true,
        tools:[{
            name:'addImg',
            methods:'this.addImg',
            sign:'IMG'
          },
          {
            name:'addURL',
            methods:'this.addURL',
            sign:'URL'
          }
        ],
        inputList:[{
          name:"name",
          control:"textarea",
          construct_left:'<textarea autoHeight="true" class = "content">',
          construct_right:"</textarea>",
          content:"这是一个简单的文字区域"
        },{
          name:"name",
          control:"img",
          construct_left:'<img src=\"',
          construct_right:'\"></img><p>图片说明</p></br><input type="text" class = "imginfo" mutiple="true"></input>',
          content:"不存在的图片.jpg"
        }],
        title:''
      },
      methods:{
        addImg:function(){
          alert("addimg");
        },
        addURL:function(){
          alert("addUrl");
        },
        imgChage:function(){

        },
        URL:function(){

        },
        comfirm:function(){

        },

        text_focus:function(){
          this.isActive = true;
          console.log(123);
        },
        text_blur:function(){
          this.isActive = false;
          console.log(321);
        }
      }
    });
  </script>
</html>
